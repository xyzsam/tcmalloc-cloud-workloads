<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>Xapian: API Documentation: Xapian::WritableDatabase Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceXapian.html">Xapian</a></li><li class="navelem"><a class="el" href="classXapian_1_1WritableDatabase.html">WritableDatabase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classXapian_1_1WritableDatabase-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Xapian::WritableDatabase Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class provides read/write access to a database.  
 <a href="classXapian_1_1WritableDatabase.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for Xapian::WritableDatabase:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classXapian_1_1WritableDatabase__inherit__graph.png" border="0" usemap="#Xapian_1_1WritableDatabase_inherit__map" alt="Inheritance graph"/></div>
<map name="Xapian_1_1WritableDatabase_inherit__map" id="Xapian_1_1WritableDatabase_inherit__map">
<area shape="rect" id="node2" href="classXapian_1_1Database.html" title="This class is used to access a database, or a group of databases." alt="" coords="29,5,155,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a98ae55d72630237f346986b60e765e36"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#a98ae55d72630237f346986b60e765e36">~WritableDatabase</a> ()</td></tr>
<tr class="memdesc:a98ae55d72630237f346986b60e765e36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy this handle on the database.  <a href="#a98ae55d72630237f346986b60e765e36"></a><br/></td></tr>
<tr class="memitem:ac80ed31814feebd10c6222386e31472e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#ac80ed31814feebd10c6222386e31472e">WritableDatabase</a> ()</td></tr>
<tr class="memdesc:ac80ed31814feebd10c6222386e31472e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="classXapian_1_1WritableDatabase.html" title="This class provides read/write access to a database.">WritableDatabase</a> with no subdatabases.  <a href="#ac80ed31814feebd10c6222386e31472e"></a><br/></td></tr>
<tr class="memitem:acac2d0fa337933e0ed66c7dce2ce75d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#acac2d0fa337933e0ed66c7dce2ce75d0">WritableDatabase</a> (const std::string &amp;path, int flags=0, int block_size=0)</td></tr>
<tr class="memdesc:acac2d0fa337933e0ed66c7dce2ce75d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a database for update, automatically determining the database backend to use.  <a href="#acac2d0fa337933e0ed66c7dce2ce75d0"></a><br/></td></tr>
<tr class="memitem:a1529742b3f7eb92f07e75f2308bc2f3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#a1529742b3f7eb92f07e75f2308bc2f3a">WritableDatabase</a> (const <a class="el" href="classXapian_1_1WritableDatabase.html">WritableDatabase</a> &amp;other)</td></tr>
<tr class="memdesc:a1529742b3f7eb92f07e75f2308bc2f3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copying is allowed.  <a href="#a1529742b3f7eb92f07e75f2308bc2f3a"></a><br/></td></tr>
<tr class="memitem:ac97254827cb74c93606ae046dcdd3754"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#ac97254827cb74c93606ae046dcdd3754">operator=</a> (const <a class="el" href="classXapian_1_1WritableDatabase.html">WritableDatabase</a> &amp;other)</td></tr>
<tr class="memdesc:ac97254827cb74c93606ae046dcdd3754"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment is allowed.  <a href="#ac97254827cb74c93606ae046dcdd3754"></a><br/></td></tr>
<tr class="memitem:acbea2163142de795024880a7123bc693"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693">commit</a> ()</td></tr>
<tr class="memdesc:acbea2163142de795024880a7123bc693"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit any pending modifications made to the database.  <a href="#acbea2163142de795024880a7123bc693"></a><br/></td></tr>
<tr class="memitem:ae767fd6fec96a126763f818fdc0abca7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#ae767fd6fec96a126763f818fdc0abca7">flush</a> ()</td></tr>
<tr class="memdesc:ae767fd6fec96a126763f818fdc0abca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre-1.1.0 name for <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a>.  <a href="#ae767fd6fec96a126763f818fdc0abca7"></a><br/></td></tr>
<tr class="memitem:a1436584192e592cead34ea6a4d5af56f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#a1436584192e592cead34ea6a4d5af56f">begin_transaction</a> (bool flushed=true)</td></tr>
<tr class="memdesc:a1436584192e592cead34ea6a4d5af56f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin a transaction.  <a href="#a1436584192e592cead34ea6a4d5af56f"></a><br/></td></tr>
<tr class="memitem:a3d330f3a27cc17d78635781c7b77280f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#a3d330f3a27cc17d78635781c7b77280f">commit_transaction</a> ()</td></tr>
<tr class="memdesc:a3d330f3a27cc17d78635781c7b77280f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete the transaction currently in progress.  <a href="#a3d330f3a27cc17d78635781c7b77280f"></a><br/></td></tr>
<tr class="memitem:a537b50dd4aad61020ea8536e93559a72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#a537b50dd4aad61020ea8536e93559a72">cancel_transaction</a> ()</td></tr>
<tr class="memdesc:a537b50dd4aad61020ea8536e93559a72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort the transaction currently in progress, discarding the pending modifications made to the database.  <a href="#a537b50dd4aad61020ea8536e93559a72"></a><br/></td></tr>
<tr class="memitem:aecdd2e1d3a0364c4933ef4fe655f080b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#aecdd2e1d3a0364c4933ef4fe655f080b">add_document</a> (const <a class="el" href="classXapian_1_1Document.html">Xapian::Document</a> &amp;document)</td></tr>
<tr class="memdesc:aecdd2e1d3a0364c4933ef4fe655f080b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new document to the database.  <a href="#aecdd2e1d3a0364c4933ef4fe655f080b"></a><br/></td></tr>
<tr class="memitem:a0cfd78ba9108b9ef2cf9b4a9f545c70d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#a0cfd78ba9108b9ef2cf9b4a9f545c70d">delete_document</a> (<a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a> did)</td></tr>
<tr class="memdesc:a0cfd78ba9108b9ef2cf9b4a9f545c70d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a document from the database.  <a href="#a0cfd78ba9108b9ef2cf9b4a9f545c70d"></a><br/></td></tr>
<tr class="memitem:a8426619892e77112e832fc4b11b8efc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#a8426619892e77112e832fc4b11b8efc3">delete_document</a> (const std::string &amp;unique_term)</td></tr>
<tr class="memdesc:a8426619892e77112e832fc4b11b8efc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete any documents indexed by a term from the database.  <a href="#a8426619892e77112e832fc4b11b8efc3"></a><br/></td></tr>
<tr class="memitem:a23344c9000ea98b15d491fa875bd5d1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#a23344c9000ea98b15d491fa875bd5d1e">replace_document</a> (<a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a> did, const <a class="el" href="classXapian_1_1Document.html">Xapian::Document</a> &amp;document)</td></tr>
<tr class="memdesc:a23344c9000ea98b15d491fa875bd5d1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace a given document in the database.  <a href="#a23344c9000ea98b15d491fa875bd5d1e"></a><br/></td></tr>
<tr class="memitem:a43c4630ec482508667e9ca539f19cbf0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#a43c4630ec482508667e9ca539f19cbf0">replace_document</a> (const std::string &amp;unique_term, const <a class="el" href="classXapian_1_1Document.html">Xapian::Document</a> &amp;document)</td></tr>
<tr class="memdesc:a43c4630ec482508667e9ca539f19cbf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace any documents matching a term.  <a href="#a43c4630ec482508667e9ca539f19cbf0"></a><br/></td></tr>
<tr class="memitem:ad80216c23c6b0175a0e235c4dccde390"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#ad80216c23c6b0175a0e235c4dccde390">add_spelling</a> (const std::string &amp;word, <a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a> freqinc=1) const </td></tr>
<tr class="memdesc:ad80216c23c6b0175a0e235c4dccde390"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a word to the spelling dictionary.  <a href="#ad80216c23c6b0175a0e235c4dccde390"></a><br/></td></tr>
<tr class="memitem:a1ef895fd7b1ed17bdb7036afc321cb3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#a1ef895fd7b1ed17bdb7036afc321cb3d">remove_spelling</a> (const std::string &amp;word, <a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a> freqdec=1) const </td></tr>
<tr class="memdesc:a1ef895fd7b1ed17bdb7036afc321cb3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a word from the spelling dictionary.  <a href="#a1ef895fd7b1ed17bdb7036afc321cb3d"></a><br/></td></tr>
<tr class="memitem:a1b76ebd51f2c69898034d804de877ce6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#a1b76ebd51f2c69898034d804de877ce6">add_synonym</a> (const std::string &amp;term, const std::string &amp;synonym) const </td></tr>
<tr class="memdesc:a1b76ebd51f2c69898034d804de877ce6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a synonym for a term.  <a href="#a1b76ebd51f2c69898034d804de877ce6"></a><br/></td></tr>
<tr class="memitem:a0d29fb5845bcec5a8123334e654dc868"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#a0d29fb5845bcec5a8123334e654dc868">remove_synonym</a> (const std::string &amp;term, const std::string &amp;synonym) const </td></tr>
<tr class="memdesc:a0d29fb5845bcec5a8123334e654dc868"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a synonym for a term.  <a href="#a0d29fb5845bcec5a8123334e654dc868"></a><br/></td></tr>
<tr class="memitem:a2d0a6ca275afab052f675ac8a59dc2b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#a2d0a6ca275afab052f675ac8a59dc2b4">clear_synonyms</a> (const std::string &amp;term) const </td></tr>
<tr class="memdesc:a2d0a6ca275afab052f675ac8a59dc2b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all synonyms for a term.  <a href="#a2d0a6ca275afab052f675ac8a59dc2b4"></a><br/></td></tr>
<tr class="memitem:abd9a9fde5be5614e93559810df865a98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#abd9a9fde5be5614e93559810df865a98">set_metadata</a> (const std::string &amp;key, const std::string &amp;value)</td></tr>
<tr class="memdesc:abd9a9fde5be5614e93559810df865a98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the user-specified metadata associated with a given key.  <a href="#abd9a9fde5be5614e93559810df865a98"></a><br/></td></tr>
<tr class="memitem:a714ee6f7f21fd72307329a4ba21227a0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a714ee6f7f21fd72307329a4ba21227a0"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1WritableDatabase.html#a714ee6f7f21fd72307329a4ba21227a0">get_description</a> () const </td></tr>
<tr class="memdesc:a714ee6f7f21fd72307329a4ba21227a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a string describing this object. <br/></td></tr>
<tr class="inherit_header pub_methods_classXapian_1_1Database"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classXapian_1_1Database')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="classXapian_1_1Database.html">Xapian::Database</a></td></tr>
<tr class="memitem:a2fc5aa368a7097ca787a831211a2e3bc inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a2fc5aa368a7097ca787a831211a2e3bc">add_database</a> (const <a class="el" href="classXapian_1_1Database.html">Database</a> &amp;database)</td></tr>
<tr class="memdesc:a2fc5aa368a7097ca787a831211a2e3bc inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an existing database (or group of databases) to those accessed by this object.  <a href="#a2fc5aa368a7097ca787a831211a2e3bc"></a><br/></td></tr>
<tr class="memitem:a24f8197f3ac8bfd8c2526e0b8dff4ff7 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24f8197f3ac8bfd8c2526e0b8dff4ff7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a24f8197f3ac8bfd8c2526e0b8dff4ff7">Database</a> ()</td></tr>
<tr class="memdesc:a24f8197f3ac8bfd8c2526e0b8dff4ff7 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="classXapian_1_1Database.html" title="This class is used to access a database, or a group of databases.">Database</a> with no databases in. <br/></td></tr>
<tr class="memitem:a1a1a60feaa21613473dd404585fb25dd inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a1a1a60feaa21613473dd404585fb25dd">Database</a> (const std::string &amp;path, int flags=0)</td></tr>
<tr class="memdesc:a1a1a60feaa21613473dd404585fb25dd inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="classXapian_1_1Database.html" title="This class is used to access a database, or a group of databases.">Database</a>, automatically determining the database backend to use.  <a href="#a1a1a60feaa21613473dd404585fb25dd"></a><br/></td></tr>
<tr class="memitem:aa882e42d12defaf578e68ac9a4fe36f0 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#aa882e42d12defaf578e68ac9a4fe36f0">Database</a> (int fd, int flags=0)</td></tr>
<tr class="memdesc:aa882e42d12defaf578e68ac9a4fe36f0 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a single-file <a class="el" href="classXapian_1_1Database.html" title="This class is used to access a database, or a group of databases.">Database</a>.  <a href="#aa882e42d12defaf578e68ac9a4fe36f0"></a><br/></td></tr>
<tr class="memitem:a0352b3a47dca16d57c071252e84f1043 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a0352b3a47dca16d57c071252e84f1043">~Database</a> ()</td></tr>
<tr class="memdesc:a0352b3a47dca16d57c071252e84f1043 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy this handle on the database.  <a href="#a0352b3a47dca16d57c071252e84f1043"></a><br/></td></tr>
<tr class="memitem:aaae498b70286ba1c588b7cbeb0972d38 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#aaae498b70286ba1c588b7cbeb0972d38">Database</a> (const <a class="el" href="classXapian_1_1Database.html">Database</a> &amp;other)</td></tr>
<tr class="memdesc:aaae498b70286ba1c588b7cbeb0972d38 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copying is allowed.  <a href="#aaae498b70286ba1c588b7cbeb0972d38"></a><br/></td></tr>
<tr class="memitem:a4e8badea7a9d7292c13f99429c6a2b79 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a4e8badea7a9d7292c13f99429c6a2b79">operator=</a> (const <a class="el" href="classXapian_1_1Database.html">Database</a> &amp;other)</td></tr>
<tr class="memdesc:a4e8badea7a9d7292c13f99429c6a2b79 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment is allowed.  <a href="#a4e8badea7a9d7292c13f99429c6a2b79"></a><br/></td></tr>
<tr class="memitem:af316aa13ee123e2af75f4b44e1f23db9 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#af316aa13ee123e2af75f4b44e1f23db9">reopen</a> ()</td></tr>
<tr class="memdesc:af316aa13ee123e2af75f4b44e1f23db9 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-open the database.  <a href="#af316aa13ee123e2af75f4b44e1f23db9"></a><br/></td></tr>
<tr class="memitem:a59f5f8b137723dcaaabdbdccbc0cf1eb inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a59f5f8b137723dcaaabdbdccbc0cf1eb">close</a> ()</td></tr>
<tr class="memdesc:a59f5f8b137723dcaaabdbdccbc0cf1eb inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the database.  <a href="#a59f5f8b137723dcaaabdbdccbc0cf1eb"></a><br/></td></tr>
<tr class="memitem:a504d8e800384d12a8f9defee39362f5e inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXapian_1_1PostingIterator.html">PostingIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a504d8e800384d12a8f9defee39362f5e">postlist_begin</a> (const std::string &amp;tname) const </td></tr>
<tr class="memdesc:a504d8e800384d12a8f9defee39362f5e inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">An iterator pointing to the start of the postlist for a given term.  <a href="#a504d8e800384d12a8f9defee39362f5e"></a><br/></td></tr>
<tr class="memitem:ac1661ac2876a4a69f327907ef47a003d inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1661ac2876a4a69f327907ef47a003d"></a>
<a class="el" href="classXapian_1_1PostingIterator.html">PostingIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#ac1661ac2876a4a69f327907ef47a003d">postlist_end</a> (const std::string &amp;) const </td></tr>
<tr class="memdesc:ac1661ac2876a4a69f327907ef47a003d inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Corresponding end iterator to <a class="el" href="classXapian_1_1Database.html#a504d8e800384d12a8f9defee39362f5e" title="An iterator pointing to the start of the postlist for a given term.">postlist_begin()</a>. <br/></td></tr>
<tr class="memitem:ac26b8f8f564c37586c7a0bd35cfefe15 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXapian_1_1TermIterator.html">TermIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#ac26b8f8f564c37586c7a0bd35cfefe15">termlist_begin</a> (<a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a> did) const </td></tr>
<tr class="memdesc:ac26b8f8f564c37586c7a0bd35cfefe15 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">An iterator pointing to the start of the termlist for a given document.  <a href="#ac26b8f8f564c37586c7a0bd35cfefe15"></a><br/></td></tr>
<tr class="memitem:aa6f20c07f93d53f35caf6c97c795a5a1 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa6f20c07f93d53f35caf6c97c795a5a1"></a>
<a class="el" href="classXapian_1_1TermIterator.html">TermIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#aa6f20c07f93d53f35caf6c97c795a5a1">termlist_end</a> (<a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a>) const </td></tr>
<tr class="memdesc:aa6f20c07f93d53f35caf6c97c795a5a1 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Corresponding end iterator to <a class="el" href="classXapian_1_1Database.html#ac26b8f8f564c37586c7a0bd35cfefe15" title="An iterator pointing to the start of the termlist for a given document.">termlist_begin()</a>. <br/></td></tr>
<tr class="memitem:ae7362269bc3408d0800a36d0c2f4851d inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7362269bc3408d0800a36d0c2f4851d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#ae7362269bc3408d0800a36d0c2f4851d">has_positions</a> () const </td></tr>
<tr class="memdesc:ae7362269bc3408d0800a36d0c2f4851d inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does this database have any positional information? <br/></td></tr>
<tr class="memitem:a9fb4987b5f0e13b8344a89d1898f5500 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9fb4987b5f0e13b8344a89d1898f5500"></a>
<a class="el" href="classXapian_1_1PositionIterator.html">PositionIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a9fb4987b5f0e13b8344a89d1898f5500">positionlist_begin</a> (<a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a> did, const std::string &amp;tname) const </td></tr>
<tr class="memdesc:a9fb4987b5f0e13b8344a89d1898f5500 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">An iterator pointing to the start of the position list for a given term in a given document. <br/></td></tr>
<tr class="memitem:aef7093cb5cfd969c4b07593e26d208e3 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aef7093cb5cfd969c4b07593e26d208e3"></a>
<a class="el" href="classXapian_1_1PositionIterator.html">PositionIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#aef7093cb5cfd969c4b07593e26d208e3">positionlist_end</a> (<a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a>, const std::string &amp;) const </td></tr>
<tr class="memdesc:aef7093cb5cfd969c4b07593e26d208e3 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Corresponding end iterator to <a class="el" href="classXapian_1_1Database.html#a9fb4987b5f0e13b8344a89d1898f5500" title="An iterator pointing to the start of the position list for a given term in a given document...">positionlist_begin()</a>. <br/></td></tr>
<tr class="memitem:ae92a326c8e08f29aa7c08fb8a99f0f95 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXapian_1_1TermIterator.html">TermIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#ae92a326c8e08f29aa7c08fb8a99f0f95">allterms_begin</a> (const std::string &amp;prefix=std::string()) const </td></tr>
<tr class="memdesc:ae92a326c8e08f29aa7c08fb8a99f0f95 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">An iterator which runs across all terms with a given prefix.  <a href="#ae92a326c8e08f29aa7c08fb8a99f0f95"></a><br/></td></tr>
<tr class="memitem:a2194f5cdafd0399d370cd02405b538fd inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2194f5cdafd0399d370cd02405b538fd"></a>
<a class="el" href="classXapian_1_1TermIterator.html">TermIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a2194f5cdafd0399d370cd02405b538fd">allterms_end</a> (const std::string &amp;=std::string()) const </td></tr>
<tr class="memdesc:a2194f5cdafd0399d370cd02405b538fd inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Corresponding end iterator to allterms_begin(prefix). <br/></td></tr>
<tr class="memitem:ac13c9f754b55edf7e25d754a150bd970 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac13c9f754b55edf7e25d754a150bd970"></a>
<a class="el" href="namespaceXapian.html#a9bbd62a8e56ea4619e4e59afb32aced6">Xapian::doccount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#ac13c9f754b55edf7e25d754a150bd970">get_doccount</a> () const </td></tr>
<tr class="memdesc:ac13c9f754b55edf7e25d754a150bd970 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of documents in the database. <br/></td></tr>
<tr class="memitem:a0c180d6facca7ca0e8486e7b995a6747 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0c180d6facca7ca0e8486e7b995a6747"></a>
<a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a0c180d6facca7ca0e8486e7b995a6747">get_lastdocid</a> () const </td></tr>
<tr class="memdesc:a0c180d6facca7ca0e8486e7b995a6747 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the highest document id which has been used in the database. <br/></td></tr>
<tr class="memitem:a7be264cfd482d19e6ca1c99382838032 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7be264cfd482d19e6ca1c99382838032"></a>
<a class="el" href="namespaceXapian.html#a63b13d3a36fcab9975658e32643d86b5">Xapian::doclength</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a7be264cfd482d19e6ca1c99382838032">get_avlength</a> () const </td></tr>
<tr class="memdesc:a7be264cfd482d19e6ca1c99382838032 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the average length of the documents in the database. <br/></td></tr>
<tr class="memitem:a61d9b1e634aff99280a5fcdfc5087cdc inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a61d9b1e634aff99280a5fcdfc5087cdc"></a>
<a class="el" href="namespaceXapian.html#a9bbd62a8e56ea4619e4e59afb32aced6">Xapian::doccount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a61d9b1e634aff99280a5fcdfc5087cdc">get_termfreq</a> (const std::string &amp;tname) const </td></tr>
<tr class="memdesc:a61d9b1e634aff99280a5fcdfc5087cdc inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of documents in the database indexed by a given term. <br/></td></tr>
<tr class="memitem:a22509662f07387074beb1e9919e8e1e9 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a22509662f07387074beb1e9919e8e1e9">term_exists</a> (const std::string &amp;tname) const </td></tr>
<tr class="memdesc:a22509662f07387074beb1e9919e8e1e9 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a given term exists in the database.  <a href="#a22509662f07387074beb1e9919e8e1e9"></a><br/></td></tr>
<tr class="memitem:aeb8b2a78e6a7834bf0cc9e863bcfb95b inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#aeb8b2a78e6a7834bf0cc9e863bcfb95b">get_collection_freq</a> (const std::string &amp;tname) const </td></tr>
<tr class="memdesc:aeb8b2a78e6a7834bf0cc9e863bcfb95b inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the total number of occurrences of the given term.  <a href="#aeb8b2a78e6a7834bf0cc9e863bcfb95b"></a><br/></td></tr>
<tr class="memitem:a16af5d3bdfa3c459ccc41f6dc69644e4 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceXapian.html#a9bbd62a8e56ea4619e4e59afb32aced6">Xapian::doccount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a16af5d3bdfa3c459ccc41f6dc69644e4">get_value_freq</a> (<a class="el" href="namespaceXapian.html#a94a899651fa920c72ffa9635bde630ea">Xapian::valueno</a> slot) const </td></tr>
<tr class="memdesc:a16af5d3bdfa3c459ccc41f6dc69644e4 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the frequency of a given value slot.  <a href="#a16af5d3bdfa3c459ccc41f6dc69644e4"></a><br/></td></tr>
<tr class="memitem:a90d2297437540ec733debe4a4b706c7d inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a90d2297437540ec733debe4a4b706c7d">get_value_lower_bound</a> (<a class="el" href="namespaceXapian.html#a94a899651fa920c72ffa9635bde630ea">Xapian::valueno</a> slot) const </td></tr>
<tr class="memdesc:a90d2297437540ec733debe4a4b706c7d inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a lower bound on the values stored in the given value slot.  <a href="#a90d2297437540ec733debe4a4b706c7d"></a><br/></td></tr>
<tr class="memitem:a45e8c383ec2a3cb547ea48ce1da7e1e1 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a45e8c383ec2a3cb547ea48ce1da7e1e1">get_value_upper_bound</a> (<a class="el" href="namespaceXapian.html#a94a899651fa920c72ffa9635bde630ea">Xapian::valueno</a> slot) const </td></tr>
<tr class="memdesc:a45e8c383ec2a3cb547ea48ce1da7e1e1 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an upper bound on the values stored in the given value slot.  <a href="#a45e8c383ec2a3cb547ea48ce1da7e1e1"></a><br/></td></tr>
<tr class="memitem:ad047fac41d0cfbfb8f6022164b1af458 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#ad047fac41d0cfbfb8f6022164b1af458">get_doclength_lower_bound</a> () const </td></tr>
<tr class="memdesc:ad047fac41d0cfbfb8f6022164b1af458 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a lower bound on the length of a document in this DB.  <a href="#ad047fac41d0cfbfb8f6022164b1af458"></a><br/></td></tr>
<tr class="memitem:ade55de013a35cdca12aa89f21d2a5173 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade55de013a35cdca12aa89f21d2a5173"></a>
<a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#ade55de013a35cdca12aa89f21d2a5173">get_doclength_upper_bound</a> () const </td></tr>
<tr class="memdesc:ade55de013a35cdca12aa89f21d2a5173 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an upper bound on the length of a document in this DB. <br/></td></tr>
<tr class="memitem:a60d00bbea2f0c15f16512f51247b5f9d inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a60d00bbea2f0c15f16512f51247b5f9d"></a>
<a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a60d00bbea2f0c15f16512f51247b5f9d">get_wdf_upper_bound</a> (const std::string &amp;term) const </td></tr>
<tr class="memdesc:a60d00bbea2f0c15f16512f51247b5f9d inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an upper bound on the wdf of term <em>term</em>. <br/></td></tr>
<tr class="memitem:abba5f47ae1a2895ba75a698ab70d570e inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abba5f47ae1a2895ba75a698ab70d570e"></a>
<a class="el" href="classXapian_1_1ValueIterator.html">ValueIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#abba5f47ae1a2895ba75a698ab70d570e">valuestream_begin</a> (<a class="el" href="namespaceXapian.html#a94a899651fa920c72ffa9635bde630ea">Xapian::valueno</a> slot) const </td></tr>
<tr class="memdesc:abba5f47ae1a2895ba75a698ab70d570e inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an iterator over the value in slot <em>slot</em> for each document. <br/></td></tr>
<tr class="memitem:a1955ccba82b9538e128437e031a3d0de inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1955ccba82b9538e128437e031a3d0de"></a>
<a class="el" href="classXapian_1_1ValueIterator.html">ValueIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a1955ccba82b9538e128437e031a3d0de">valuestream_end</a> (<a class="el" href="namespaceXapian.html#a94a899651fa920c72ffa9635bde630ea">Xapian::valueno</a>) const </td></tr>
<tr class="memdesc:a1955ccba82b9538e128437e031a3d0de inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return end iterator corresponding to <a class="el" href="classXapian_1_1Database.html#abba5f47ae1a2895ba75a698ab70d570e" title="Return an iterator over the value in slot slot for each document.">valuestream_begin()</a>. <br/></td></tr>
<tr class="memitem:a7aed02430626d06ab782d63e462de837 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7aed02430626d06ab782d63e462de837"></a>
<a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a7aed02430626d06ab782d63e462de837">get_doclength</a> (<a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a> did) const </td></tr>
<tr class="memdesc:a7aed02430626d06ab782d63e462de837 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the length of a document. <br/></td></tr>
<tr class="memitem:a443b22bf6e1ea4580bf21b745a22fbf5 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a443b22bf6e1ea4580bf21b745a22fbf5"></a>
<a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a443b22bf6e1ea4580bf21b745a22fbf5">get_unique_terms</a> (<a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a> did) const </td></tr>
<tr class="memdesc:a443b22bf6e1ea4580bf21b745a22fbf5 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of unique terms in document. <br/></td></tr>
<tr class="memitem:a759d1fde0d3d8a2ed74b83c0ebd10974 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a759d1fde0d3d8a2ed74b83c0ebd10974">keep_alive</a> ()</td></tr>
<tr class="memdesc:a759d1fde0d3d8a2ed74b83c0ebd10974 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a "keep-alive" to remote databases to stop them timing out.  <a href="#a759d1fde0d3d8a2ed74b83c0ebd10974"></a><br/></td></tr>
<tr class="memitem:ac36eafdcf748e11e533149674329f90b inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXapian_1_1Document.html">Xapian::Document</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#ac36eafdcf748e11e533149674329f90b">get_document</a> (<a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a> did) const </td></tr>
<tr class="memdesc:ac36eafdcf748e11e533149674329f90b inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a document from the database, given its document id.  <a href="#ac36eafdcf748e11e533149674329f90b"></a><br/></td></tr>
<tr class="memitem:a86b944dece96d7ada2446ae8952ee3a2 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a86b944dece96d7ada2446ae8952ee3a2">get_spelling_suggestion</a> (const std::string &amp;word, unsigned max_edit_distance=2) const </td></tr>
<tr class="memdesc:a86b944dece96d7ada2446ae8952ee3a2 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suggest a spelling correction.  <a href="#a86b944dece96d7ada2446ae8952ee3a2"></a><br/></td></tr>
<tr class="memitem:a79bdfc96a112a38409a1d87c7e2f6a55 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXapian_1_1TermIterator.html">Xapian::TermIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a79bdfc96a112a38409a1d87c7e2f6a55">spellings_begin</a> () const </td></tr>
<tr class="memdesc:a79bdfc96a112a38409a1d87c7e2f6a55 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">An iterator which returns all the spelling correction targets.  <a href="#a79bdfc96a112a38409a1d87c7e2f6a55"></a><br/></td></tr>
<tr class="memitem:a107327ec1bf8fb8c04345961f73d82f2 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a107327ec1bf8fb8c04345961f73d82f2"></a>
<a class="el" href="classXapian_1_1TermIterator.html">Xapian::TermIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a107327ec1bf8fb8c04345961f73d82f2">spellings_end</a> () const </td></tr>
<tr class="memdesc:a107327ec1bf8fb8c04345961f73d82f2 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Corresponding end iterator to <a class="el" href="classXapian_1_1Database.html#a79bdfc96a112a38409a1d87c7e2f6a55" title="An iterator which returns all the spelling correction targets.">spellings_begin()</a>. <br/></td></tr>
<tr class="memitem:a74d436523335d70f665edee7730f8435 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXapian_1_1TermIterator.html">Xapian::TermIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a74d436523335d70f665edee7730f8435">synonyms_begin</a> (const std::string &amp;term) const </td></tr>
<tr class="memdesc:a74d436523335d70f665edee7730f8435 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">An iterator which returns all the synonyms for a given term.  <a href="#a74d436523335d70f665edee7730f8435"></a><br/></td></tr>
<tr class="memitem:af379075aa87dd844e0bf6f566a4e001d inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af379075aa87dd844e0bf6f566a4e001d"></a>
<a class="el" href="classXapian_1_1TermIterator.html">Xapian::TermIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#af379075aa87dd844e0bf6f566a4e001d">synonyms_end</a> (const std::string &amp;) const </td></tr>
<tr class="memdesc:af379075aa87dd844e0bf6f566a4e001d inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Corresponding end iterator to synonyms_begin(term). <br/></td></tr>
<tr class="memitem:a340149d55c64d7d186948d1992ff10f2 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXapian_1_1TermIterator.html">Xapian::TermIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a340149d55c64d7d186948d1992ff10f2">synonym_keys_begin</a> (const std::string &amp;prefix=std::string()) const </td></tr>
<tr class="memdesc:a340149d55c64d7d186948d1992ff10f2 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">An iterator which returns all terms which have synonyms.  <a href="#a340149d55c64d7d186948d1992ff10f2"></a><br/></td></tr>
<tr class="memitem:af24c76928481eb792486304867cc6a64 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af24c76928481eb792486304867cc6a64"></a>
<a class="el" href="classXapian_1_1TermIterator.html">Xapian::TermIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#af24c76928481eb792486304867cc6a64">synonym_keys_end</a> (const std::string &amp;=std::string()) const </td></tr>
<tr class="memdesc:af24c76928481eb792486304867cc6a64 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Corresponding end iterator to synonym_keys_begin(prefix). <br/></td></tr>
<tr class="memitem:ae27282ad0777daa301b0b83b410d98ba inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#ae27282ad0777daa301b0b83b410d98ba">get_metadata</a> (const std::string &amp;key) const </td></tr>
<tr class="memdesc:ae27282ad0777daa301b0b83b410d98ba inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the user-specified metadata associated with a given key.  <a href="#ae27282ad0777daa301b0b83b410d98ba"></a><br/></td></tr>
<tr class="memitem:af275ac0df48ddea697979d69cd60f82f inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXapian_1_1TermIterator.html">Xapian::TermIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#af275ac0df48ddea697979d69cd60f82f">metadata_keys_begin</a> (const std::string &amp;prefix=std::string()) const </td></tr>
<tr class="memdesc:af275ac0df48ddea697979d69cd60f82f inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">An iterator which returns all user-specified metadata keys.  <a href="#af275ac0df48ddea697979d69cd60f82f"></a><br/></td></tr>
<tr class="memitem:aec2e180589fc493230054f81de823f04 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aec2e180589fc493230054f81de823f04"></a>
<a class="el" href="classXapian_1_1TermIterator.html">Xapian::TermIterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#aec2e180589fc493230054f81de823f04">metadata_keys_end</a> (const std::string &amp;=std::string()) const </td></tr>
<tr class="memdesc:aec2e180589fc493230054f81de823f04 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Corresponding end iterator to <a class="el" href="classXapian_1_1Database.html#af275ac0df48ddea697979d69cd60f82f" title="An iterator which returns all user-specified metadata keys.">metadata_keys_begin()</a>. <br/></td></tr>
<tr class="memitem:aa7edcb2f6dd5f1df58b37026b9ecd6e4 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#aa7edcb2f6dd5f1df58b37026b9ecd6e4">get_uuid</a> () const </td></tr>
<tr class="memdesc:aa7edcb2f6dd5f1df58b37026b9ecd6e4 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a UUID for the database.  <a href="#aa7edcb2f6dd5f1df58b37026b9ecd6e4"></a><br/></td></tr>
<tr class="memitem:a02be817100f1269681a55e6f45b74d4e inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a02be817100f1269681a55e6f45b74d4e">compact</a> (const std::string &amp;output, unsigned flags=0, int block_size=0)</td></tr>
<tr class="memdesc:a02be817100f1269681a55e6f45b74d4e inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Produce a compact version of this database.  <a href="#a02be817100f1269681a55e6f45b74d4e"></a><br/></td></tr>
<tr class="memitem:abdac190fd002c846642beb733aeb850d inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#abdac190fd002c846642beb733aeb850d">compact</a> (int fd, unsigned flags=0, int block_size=0)</td></tr>
<tr class="memdesc:abdac190fd002c846642beb733aeb850d inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Produce a compact version of this database.  <a href="#abdac190fd002c846642beb733aeb850d"></a><br/></td></tr>
<tr class="memitem:a6b7a3c20473a72bf88c5419ae2ae406c inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a6b7a3c20473a72bf88c5419ae2ae406c">compact</a> (const std::string &amp;output, unsigned flags, int block_size, <a class="el" href="classXapian_1_1Compactor.html">Xapian::Compactor</a> &amp;compactor)</td></tr>
<tr class="memdesc:a6b7a3c20473a72bf88c5419ae2ae406c inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Produce a compact version of this database.  <a href="#a6b7a3c20473a72bf88c5419ae2ae406c"></a><br/></td></tr>
<tr class="memitem:a6eed99afad6e0667adb89d7eb76f8a01 inherit pub_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a6eed99afad6e0667adb89d7eb76f8a01">compact</a> (int fd, unsigned flags, int block_size, <a class="el" href="classXapian_1_1Compactor.html">Xapian::Compactor</a> &amp;compactor)</td></tr>
<tr class="memdesc:a6eed99afad6e0667adb89d7eb76f8a01 inherit pub_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Produce a compact version of this database.  <a href="#a6eed99afad6e0667adb89d7eb76f8a01"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classXapian_1_1Database"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classXapian_1_1Database')"><img src="closed.png" alt="-"/>&nbsp;Static Public Member Functions inherited from <a class="el" href="classXapian_1_1Database.html">Xapian::Database</a></td></tr>
<tr class="memitem:ad730857c480fbff99c2ee5a462c20643 inherit pub_static_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#ad730857c480fbff99c2ee5a462c20643">check</a> (const std::string &amp;path, int opts=0, std::ostream *out=NULL)</td></tr>
<tr class="memdesc:ad730857c480fbff99c2ee5a462c20643 inherit pub_static_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the integrity of a database or database table.  <a href="#ad730857c480fbff99c2ee5a462c20643"></a><br/></td></tr>
<tr class="memitem:a074aeccd1b455f158b0f020898ec9811 inherit pub_static_methods_classXapian_1_1Database"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Database.html#a074aeccd1b455f158b0f020898ec9811">check</a> (int fd, int opts=0, std::ostream *out=NULL)</td></tr>
<tr class="memdesc:a074aeccd1b455f158b0f020898ec9811 inherit pub_static_methods_classXapian_1_1Database"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the integrity of a single file database.  <a href="#a074aeccd1b455f158b0f020898ec9811"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class provides read/write access to a database. </p>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a98ae55d72630237f346986b60e765e36"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Xapian::WritableDatabase::~WritableDatabase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy this handle on the database. </p>
<p>If no other handles to this database remain, the database will be closed.</p>
<p>If a transaction is active <a class="el" href="classXapian_1_1WritableDatabase.html#a537b50dd4aad61020ea8536e93559a72" title="Abort the transaction currently in progress, discarding the pending modifications made to the databas...">cancel_transaction()</a> will be implicitly called; if no transaction is active <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> will be implicitly called, but any exception will be swallowed (because throwing exceptions in C++ destructors is problematic). If you aren't using transactions and want to know about any failure to commit changes, call <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> explicitly before the destructor gets called. </p>

</div>
</div>
<a class="anchor" id="ac80ed31814feebd10c6222386e31472e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Xapian::WritableDatabase::WritableDatabase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a <a class="el" href="classXapian_1_1WritableDatabase.html" title="This class provides read/write access to a database.">WritableDatabase</a> with no subdatabases. </p>
<p>The created object isn't very useful in this state - it's intended as a placeholder value. </p>

</div>
</div>
<a class="anchor" id="acac2d0fa337933e0ed66c7dce2ce75d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Xapian::WritableDatabase::WritableDatabase </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>block_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a database for update, automatically determining the database backend to use. </p>
<p>If the database is to be created, <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> will try to create the directory indicated by path if it doesn't already exist (but only the leaf directory, not recursively).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>directory that the database is stored in. </td></tr>
    <tr><td class="paramname">flags</td><td>one of:<ul>
<li><a class="el" href="namespaceXapian.html#a3d32111900603ce02b8c8467b9c5bacb" title="Create database if it doesn&#39;t already exist.">Xapian::DB_CREATE_OR_OPEN</a> open for read/write; create if no db exists (the default if flags isn't specified)</li>
<li><a class="el" href="namespaceXapian.html#a1236aaa6a3d7a37a4c6b95439e449f7a" title="Create a new database.">Xapian::DB_CREATE</a> create new database; fail if db exists</li>
<li><a class="el" href="namespaceXapian.html#afbc13e6712a12dcfd0c048242fc313ed" title="Create database if it doesn&#39;t already exist, or overwrite if it does.">Xapian::DB_CREATE_OR_OVERWRITE</a> overwrite existing db; create if none exists</li>
<li><a class="el" href="namespaceXapian.html#a54521467b649894bdc411f4c35e56ac3" title="Open an existing database.">Xapian::DB_OPEN</a> open for read/write; fail if no db exists</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>Additionally, the following flags can be combined with action using bitwise-or (| in C++):</p>
<ul>
<li><a class="el" href="namespaceXapian.html#a8ca4c16174bc054986662c5b56f28374" title="Don&#39;t attempt to ensure changes have hit disk.">Xapian::DB_NO_SYNC</a> don't call fsync() or similar</li>
<li><a class="el" href="namespaceXapian.html#afff6e2208f3d724637eff3ca442190b6" title="Update the database in-place.">Xapian::DB_DANGEROUS</a> don't be crash-safe, no concurrent readers</li>
<li><a class="el" href="namespaceXapian.html#a296fe000d6d9525bb8e80f72838026a6" title="If the database is already locked, retry the lock.">Xapian::DB_RETRY_LOCK</a> to wait to get a write lock</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block_size</td><td>If a new database is created, this specifies the block size (in bytes) for backends which have such a concept. For chert and glass, the block size must be a power of 2 between 2048 and 65536 (inclusive), and the default (also used if an invalid value is passed) is 8192 bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseCorruptError.html" title="DatabaseCorruptError indicates database corruption was detected.">Xapian::DatabaseCorruptError</a></td><td>will be thrown if the database is in a corrupt state.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseLockError.html" title="DatabaseLockError indicates failure to lock a database.">Xapian::DatabaseLockError</a></td><td>will be thrown if a lock couldn't be acquired on the database. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1529742b3f7eb92f07e75f2308bc2f3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Xapian::WritableDatabase::WritableDatabase </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classXapian_1_1WritableDatabase.html">WritableDatabase</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copying is allowed. </p>
<p>The internals are reference counted, so copying is cheap.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The object to copy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="aecdd2e1d3a0364c4933ef4fe655f080b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a> Xapian::WritableDatabase::add_document </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classXapian_1_1Document.html">Xapian::Document</a> &amp;&#160;</td>
          <td class="paramname"><em>document</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a new document to the database. </p>
<p>This method adds the specified document to the database, returning a newly allocated document ID. Automatically allocated document IDs come from a per-database monotonically increasing counter, so IDs from deleted documents won't be reused.</p>
<p>If you want to specify the document ID to be used, you should call <a class="el" href="classXapian_1_1WritableDatabase.html#a23344c9000ea98b15d491fa875bd5d1e" title="Replace a given document in the database.">replace_document()</a> instead.</p>
<p>Note that changes to the database won't be immediately committed to disk; see <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> for more details.</p>
<p>As with all database modification operations, the effect is atomic: the document will either be fully added, or the document fails to be added and an exception is thrown (possibly at a later time when <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> is called or the database is closed).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">document</td><td>The new document to be added.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The document ID of the newly added document.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseError.html" title="DatabaseError indicates some sort of database related error.">Xapian::DatabaseError</a></td><td>will be thrown if a problem occurs while writing to the database.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseCorruptError.html" title="DatabaseCorruptError indicates database corruption was detected.">Xapian::DatabaseCorruptError</a></td><td>will be thrown if the database is in a corrupt state. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad80216c23c6b0175a0e235c4dccde390"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Xapian::WritableDatabase::add_spelling </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td>
          <td class="paramname"><em>freqinc</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a word to the spelling dictionary. </p>
<p>If the word is already present, its frequency is increased.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">word</td><td>The word to add. </td></tr>
    <tr><td class="paramname">freqinc</td><td>How much to increase its frequency by (default 1). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1b76ebd51f2c69898034d804de877ce6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Xapian::WritableDatabase::add_synonym </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>synonym</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a synonym for a term. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">term</td><td>The term to add a synonym for. </td></tr>
    <tr><td class="paramname">synonym</td><td>The synonym to add. If this is already a synonym for <em>term</em>, then no action is taken. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1436584192e592cead34ea6a4d5af56f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Xapian::WritableDatabase::begin_transaction </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flushed</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begin a transaction. </p>
<p>In <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> a transaction is a group of modifications to the database which are linked such that either all will be applied simultaneously or none will be applied at all. Even in the case of a power failure, this characteristic should be preserved (as long as the filesystem isn't corrupted, etc).</p>
<p>A transaction is started with <a class="el" href="classXapian_1_1WritableDatabase.html#a1436584192e592cead34ea6a4d5af56f" title="Begin a transaction.">begin_transaction()</a> and can either be committed by calling <a class="el" href="classXapian_1_1WritableDatabase.html#a3d330f3a27cc17d78635781c7b77280f" title="Complete the transaction currently in progress.">commit_transaction()</a> or aborted by calling <a class="el" href="classXapian_1_1WritableDatabase.html#a537b50dd4aad61020ea8536e93559a72" title="Abort the transaction currently in progress, discarding the pending modifications made to the databas...">cancel_transaction()</a>.</p>
<p>By default, a transaction implicitly calls <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> before and after so that the modifications stand and fall without affecting modifications before or after.</p>
<p>The downside of these implicit calls to <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> is that small transactions can harm indexing performance in the same way that explicitly calling <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> frequently can.</p>
<p>If you're applying atomic groups of changes and only wish to ensure that each group is either applied or not applied, then you can prevent the automatic <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> before and after the transaction by starting the transaction with begin_transaction(false). However, if cancel_transaction is called (or if commit_transaction isn't called before the <a class="el" href="classXapian_1_1WritableDatabase.html" title="This class provides read/write access to a database.">WritableDatabase</a> object is destroyed) then any changes which were pending before the transaction began will also be discarded.</p>
<p>Transactions aren't currently supported by the <a class="el" href="namespaceXapian_1_1InMemory.html" title="Database factory functions for the inmemory backend.">InMemory</a> backend.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flushed</td><td>Is this a flushed transaction? By default transactions are "flushed", which means that committing a transaction will ensure those changes are permanently written to the database. By contrast, unflushed transactions only ensure that changes within the transaction are either all applied or all aren't.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classXapian_1_1UnimplementedError.html" title="UnimplementedError indicates an attempt to use an unimplemented feature.">Xapian::UnimplementedError</a></td><td>will be thrown if transactions are not available for this database type.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1InvalidOperationError.html" title="InvalidOperationError indicates the API was used in an invalid way.">Xapian::InvalidOperationError</a></td><td>will be thrown if this is called at an invalid time, such as when a transaction is already in progress. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a537b50dd4aad61020ea8536e93559a72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Xapian::WritableDatabase::cancel_transaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort the transaction currently in progress, discarding the pending modifications made to the database. </p>
<p>If an error occurs in this method, an exception will be thrown, but the transaction will be cancelled anyway.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseError.html" title="DatabaseError indicates some sort of database related error.">Xapian::DatabaseError</a></td><td>will be thrown if a problem occurs while modifying the database.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseCorruptError.html" title="DatabaseCorruptError indicates database corruption was detected.">Xapian::DatabaseCorruptError</a></td><td>will be thrown if the database is in a corrupt state.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1InvalidOperationError.html" title="InvalidOperationError indicates the API was used in an invalid way.">Xapian::InvalidOperationError</a></td><td>will be thrown if a transaction is not currently in progress.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1UnimplementedError.html" title="UnimplementedError indicates an attempt to use an unimplemented feature.">Xapian::UnimplementedError</a></td><td>will be thrown if transactions are not available for this database type. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2d0a6ca275afab052f675ac8a59dc2b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Xapian::WritableDatabase::clear_synonyms </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>term</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all synonyms for a term. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">term</td><td>The term to remove all synonyms for. If the term has no synonyms, no action is taken. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acbea2163142de795024880a7123bc693"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Xapian::WritableDatabase::commit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commit any pending modifications made to the database. </p>
<p>For efficiency reasons, when performing multiple updates to a database it is best (indeed, almost essential) to make as many modifications as memory will permit in a single pass through the database. To ensure this, <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> batches up modifications.</p>
<p>This method may be called at any time to commit any pending modifications to the database.</p>
<p>If any of the modifications fail, an exception will be thrown and the database will be left in a state in which each separate addition, replacement or deletion operation has either been fully performed or not performed at all: it is then up to the application to work out which operations need to be repeated.</p>
<p>It's not valid to call <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> within a transaction.</p>
<p>Beware of calling <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> too frequently: this will make indexing take much longer.</p>
<p>Note that <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> need not be called explicitly: it will be called automatically when the database is closed, or when a sufficient number of modifications have been made. By default, this is every 10000 documents added, deleted, or modified. This value is rather conservative, and if you have a machine with plenty of memory, you can improve indexing throughput dramatically by setting XAPIAN_FLUSH_THRESHOLD in the environment to a larger value.</p>
<p>This method was new in <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> 1.1.0 - in earlier versions it was called <a class="el" href="classXapian_1_1WritableDatabase.html#ae767fd6fec96a126763f818fdc0abca7" title="Pre-1.1.0 name for commit().">flush()</a>.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseError.html" title="DatabaseError indicates some sort of database related error.">Xapian::DatabaseError</a></td><td>will be thrown if a problem occurs while modifying the database.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseCorruptError.html" title="DatabaseCorruptError indicates database corruption was detected.">Xapian::DatabaseCorruptError</a></td><td>will be thrown if the database is in a corrupt state. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3d330f3a27cc17d78635781c7b77280f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Xapian::WritableDatabase::commit_transaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Complete the transaction currently in progress. </p>
<p>If this method completes successfully and this is a flushed transaction, all the database modifications made during the transaction will have been committed to the database.</p>
<p>If an error occurs, an exception will be thrown, and none of the modifications made to the database during the transaction will have been applied to the database.</p>
<p>In all cases the transaction will no longer be in progress.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseError.html" title="DatabaseError indicates some sort of database related error.">Xapian::DatabaseError</a></td><td>will be thrown if a problem occurs while modifying the database.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseCorruptError.html" title="DatabaseCorruptError indicates database corruption was detected.">Xapian::DatabaseCorruptError</a></td><td>will be thrown if the database is in a corrupt state.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1InvalidOperationError.html" title="InvalidOperationError indicates the API was used in an invalid way.">Xapian::InvalidOperationError</a></td><td>will be thrown if a transaction is not currently in progress.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1UnimplementedError.html" title="UnimplementedError indicates an attempt to use an unimplemented feature.">Xapian::UnimplementedError</a></td><td>will be thrown if transactions are not available for this database type. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0cfd78ba9108b9ef2cf9b4a9f545c70d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Xapian::WritableDatabase::delete_document </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a>&#160;</td>
          <td class="paramname"><em>did</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a document from the database. </p>
<p>This method removes the document with the specified document ID from the database.</p>
<p>Note that changes to the database won't be immediately committed to disk; see <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> for more details.</p>
<p>As with all database modification operations, the effect is atomic: the document will either be fully removed, or the document fails to be removed and an exception is thrown (possibly at a later time when <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> is called or the database is closed).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">did</td><td>The document ID of the document to be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseError.html" title="DatabaseError indicates some sort of database related error.">Xapian::DatabaseError</a></td><td>will be thrown if a problem occurs while writing to the database.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseCorruptError.html" title="DatabaseCorruptError indicates database corruption was detected.">Xapian::DatabaseCorruptError</a></td><td>will be thrown if the database is in a corrupt state. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8426619892e77112e832fc4b11b8efc3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Xapian::WritableDatabase::delete_document </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>unique_term</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete any documents indexed by a term from the database. </p>
<p>This method removes any documents indexed by the specified term from the database.</p>
<p>A major use is for convenience when UIDs from another system are mapped to terms in <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a>, although this method has other uses (for example, you could add a "deletion date" term to documents at index time and use this method to delete all documents due for deletion on a particular date).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unique_term</td><td>The term to remove references to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseError.html" title="DatabaseError indicates some sort of database related error.">Xapian::DatabaseError</a></td><td>will be thrown if a problem occurs while writing to the database.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseCorruptError.html" title="DatabaseCorruptError indicates database corruption was detected.">Xapian::DatabaseCorruptError</a></td><td>will be thrown if the database is in a corrupt state. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae767fd6fec96a126763f818fdc0abca7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Xapian::WritableDatabase::flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pre-1.1.0 name for <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a>. </p>
<p>Use <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> instead. </p>

</div>
</div>
<a class="anchor" id="ac97254827cb74c93606ae046dcdd3754"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Xapian::WritableDatabase::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classXapian_1_1WritableDatabase.html">WritableDatabase</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assignment is allowed. </p>
<p>The internals are reference counted, so assignment is cheap.</p>
<p>Note that only an <a class="el" href="classXapian_1_1WritableDatabase.html" title="This class provides read/write access to a database.">WritableDatabase</a> may be assigned to an <a class="el" href="classXapian_1_1WritableDatabase.html" title="This class provides read/write access to a database.">WritableDatabase</a>: an attempt to assign a <a class="el" href="classXapian_1_1Database.html" title="This class is used to access a database, or a group of databases.">Database</a> is caught at compile-time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The object to copy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1ef895fd7b1ed17bdb7036afc321cb3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Xapian::WritableDatabase::remove_spelling </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td>
          <td class="paramname"><em>freqdec</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a word from the spelling dictionary. </p>
<p>The word's frequency is decreased, and if would become zero or less then the word is removed completely.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">word</td><td>The word to remove. </td></tr>
    <tr><td class="paramname">freqdec</td><td>How much to decrease its frequency by (default 1). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0d29fb5845bcec5a8123334e654dc868"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Xapian::WritableDatabase::remove_synonym </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>synonym</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a synonym for a term. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">term</td><td>The term to remove a synonym for. </td></tr>
    <tr><td class="paramname">synonym</td><td>The synonym to remove. If this isn't currently a synonym for <em>term</em>, then no action is taken. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a23344c9000ea98b15d491fa875bd5d1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Xapian::WritableDatabase::replace_document </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a>&#160;</td>
          <td class="paramname"><em>did</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classXapian_1_1Document.html">Xapian::Document</a> &amp;&#160;</td>
          <td class="paramname"><em>document</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replace a given document in the database. </p>
<p>This method replaces the document with the specified document ID. If document ID <em>did</em> isn't currently used, the document will be added with document ID <em>did</em>.</p>
<p>The monotonic counter used for automatically allocating document IDs is increased so that the next automatically allocated document ID will be did + 1. Be aware that if you use this method to specify a high document ID for a new document, and also use <a class="el" href="classXapian_1_1WritableDatabase.html#aecdd2e1d3a0364c4933ef4fe655f080b" title="Add a new document to the database.">WritableDatabase::add_document()</a>, <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> may get to a state where this counter wraps around and will be unable to automatically allocate document IDs!</p>
<p>Note that changes to the database won't be immediately committed to disk; see <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> for more details.</p>
<p>As with all database modification operations, the effect is atomic: the document will either be fully replaced, or the document fails to be replaced and an exception is thrown (possibly at a later time when <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> is called or the database is closed).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">did</td><td>The document ID of the document to be replaced. </td></tr>
    <tr><td class="paramname">document</td><td>The new document.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseError.html" title="DatabaseError indicates some sort of database related error.">Xapian::DatabaseError</a></td><td>will be thrown if a problem occurs while writing to the database.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseCorruptError.html" title="DatabaseCorruptError indicates database corruption was detected.">Xapian::DatabaseCorruptError</a></td><td>will be thrown if the database is in a corrupt state. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a43c4630ec482508667e9ca539f19cbf0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceXapian.html#ad8f7a78bc920532b7d2baa3281b33e2f">Xapian::docid</a> Xapian::WritableDatabase::replace_document </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>unique_term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classXapian_1_1Document.html">Xapian::Document</a> &amp;&#160;</td>
          <td class="paramname"><em>document</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replace any documents matching a term. </p>
<p>This method replaces any documents indexed by the specified term with the specified document. If any documents are indexed by the term, the lowest document ID will be used for the document, otherwise a new document ID will be generated as for add_document.</p>
<p>One common use is to allow UIDs from another system to easily be mapped to terms in <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a>. Note that this method doesn't automatically add unique_term as a term, so you'll need to call document.add_term(unique_term) first when using <a class="el" href="classXapian_1_1WritableDatabase.html#a23344c9000ea98b15d491fa875bd5d1e" title="Replace a given document in the database.">replace_document()</a> in this way.</p>
<p>Note that changes to the database won't be immediately committed to disk; see <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> for more details.</p>
<p>As with all database modification operations, the effect is atomic: the document(s) will either be fully replaced, or the document(s) fail to be replaced and an exception is thrown (possibly at a later time when <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> is called or the database is closed).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unique_term</td><td>The "unique" term. </td></tr>
    <tr><td class="paramname">document</td><td>The new document.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The document ID that document was given.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseError.html" title="DatabaseError indicates some sort of database related error.">Xapian::DatabaseError</a></td><td>will be thrown if a problem occurs while writing to the database.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseCorruptError.html" title="DatabaseCorruptError indicates database corruption was detected.">Xapian::DatabaseCorruptError</a></td><td>will be thrown if the database is in a corrupt state. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abd9a9fde5be5614e93559810df865a98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Xapian::WritableDatabase::set_metadata </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the user-specified metadata associated with a given key. </p>
<p>This method sets the metadata value associated with a given key. If there is already a metadata value stored in the database with the same key, the old value is replaced. If you want to delete an existing item of metadata, just set its value to the empty string.</p>
<p>User-specified metadata allows you to store arbitrary information in the form of (key,tag) pairs.</p>
<p>There's no hard limit on the number of metadata items, or the size of the metadata values. Metadata keys have a limited length, which depends on the backend. We recommend limiting them to 200 bytes. Empty keys are not valid, and specifying one will cause an exception.</p>
<p>Metadata modifications are committed to disk in the same way as modifications to the documents in the database are: i.e., modifications are atomic, and won't be committed to disk immediately (see <a class="el" href="classXapian_1_1WritableDatabase.html#acbea2163142de795024880a7123bc693" title="Commit any pending modifications made to the database.">commit()</a> for more details). This allows metadata to be used to link databases with versioned external resources by storing the appropriate version number in a metadata item.</p>
<p>You can also use the metadata to store arbitrary extra information associated with terms, documents, or postings by encoding the termname and/or document id into the metadata key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key of the metadata item to set.</td></tr>
    <tr><td class="paramname">value</td><td>The value of the metadata item to set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseError.html" title="DatabaseError indicates some sort of database related error.">Xapian::DatabaseError</a></td><td>will be thrown if a problem occurs while writing to the database.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1DatabaseCorruptError.html" title="DatabaseCorruptError indicates database corruption was detected.">Xapian::DatabaseCorruptError</a></td><td>will be thrown if the database is in a corrupt state.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1InvalidArgumentError.html" title="InvalidArgumentError indicates an invalid parameter value was passed to the API.">Xapian::InvalidArgumentError</a></td><td>will be thrown if the key supplied is empty.</td></tr>
    <tr><td class="paramname"><a class="el" href="classXapian_1_1UnimplementedError.html" title="UnimplementedError indicates an attempt to use an unimplemented feature.">Xapian::UnimplementedError</a></td><td>will be thrown if the database backend in use doesn't support user-specified metadata. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>xapian/<a class="el" href="database_8h.html">database.h</a></li>
</ul>
</div><!-- contents -->
<hr>
<address><small>
Documentation for Xapian (version 1.4.0).<br>
Generated on Sat Jun 25 2016 by
<a href="http://www.doxygen.org/">Doxygen 1.8.1.2</a>.
</small></address>
</body>
</html>
