<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>Xapian: API Documentation: Xapian::DLHWeight Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceXapian.html">Xapian</a></li><li class="navelem"><a class="el" href="classXapian_1_1DLHWeight.html">DLHWeight</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classXapian_1_1DLHWeight-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Xapian::DLHWeight Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class implements the DLH weighting scheme, which is a representative scheme of the Divergence from Randomness Framework by Gianni Amati.  
 <a href="classXapian_1_1DLHWeight.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for Xapian::DLHWeight:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classXapian_1_1DLHWeight__inherit__graph.png" border="0" usemap="#Xapian_1_1DLHWeight_inherit__map" alt="Inheritance graph"/></div>
<map name="Xapian_1_1DLHWeight_inherit__map" id="Xapian_1_1DLHWeight_inherit__map">
<area shape="rect" id="node2" href="classXapian_1_1Weight.html" title="Abstract base class for weighting schemes." alt="" coords="20,5,129,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a939575ef304704dc53b3d8ac244ec089"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1DLHWeight.html#a939575ef304704dc53b3d8ac244ec089">name</a> () const </td></tr>
<tr class="memdesc:a939575ef304704dc53b3d8ac244ec089"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the name of this weighting scheme.  <a href="#a939575ef304704dc53b3d8ac244ec089"></a><br/></td></tr>
<tr class="memitem:a98f8755b166af6cf955ff16ae1a8d350"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1DLHWeight.html#a98f8755b166af6cf955ff16ae1a8d350">serialise</a> () const </td></tr>
<tr class="memdesc:a98f8755b166af6cf955ff16ae1a8d350"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return this object's parameters serialised as a single string.  <a href="#a98f8755b166af6cf955ff16ae1a8d350"></a><br/></td></tr>
<tr class="memitem:afbbaf8f86cdeaf95bcf6a92aab371d42"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXapian_1_1DLHWeight.html">DLHWeight</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1DLHWeight.html#afbbaf8f86cdeaf95bcf6a92aab371d42">unserialise</a> (const std::string &amp;serialised) const </td></tr>
<tr class="memdesc:afbbaf8f86cdeaf95bcf6a92aab371d42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unserialise parameters.  <a href="#afbbaf8f86cdeaf95bcf6a92aab371d42"></a><br/></td></tr>
<tr class="memitem:a713b6a341d350eded110f52a61a7917e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1DLHWeight.html#a713b6a341d350eded110f52a61a7917e">get_sumpart</a> (<a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a> wdf, <a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a> doclen, <a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a> uniqterms) const </td></tr>
<tr class="memdesc:a713b6a341d350eded110f52a61a7917e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the weight contribution for this object's term to a document.  <a href="#a713b6a341d350eded110f52a61a7917e"></a><br/></td></tr>
<tr class="memitem:a1a205dab23898a1d9b9f7cd3602b3801"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1DLHWeight.html#a1a205dab23898a1d9b9f7cd3602b3801">get_maxpart</a> () const </td></tr>
<tr class="memdesc:a1a205dab23898a1d9b9f7cd3602b3801"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an upper bound on what <a class="el" href="classXapian_1_1DLHWeight.html#a713b6a341d350eded110f52a61a7917e" title="Calculate the weight contribution for this object&#39;s term to a document.">get_sumpart()</a> can return for any document.  <a href="#a1a205dab23898a1d9b9f7cd3602b3801"></a><br/></td></tr>
<tr class="memitem:add7d2f1502153ea42e69800cfc524b13"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1DLHWeight.html#add7d2f1502153ea42e69800cfc524b13">get_sumextra</a> (<a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a> doclen, <a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a> uniqterms) const </td></tr>
<tr class="memdesc:add7d2f1502153ea42e69800cfc524b13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the term-independent weight component for a document.  <a href="#add7d2f1502153ea42e69800cfc524b13"></a><br/></td></tr>
<tr class="memitem:a88cd221cc21b533cd9ef9bdb58905e4c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1DLHWeight.html#a88cd221cc21b533cd9ef9bdb58905e4c">get_maxextra</a> () const </td></tr>
<tr class="memdesc:a88cd221cc21b533cd9ef9bdb58905e4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an upper bound on what <a class="el" href="classXapian_1_1DLHWeight.html#add7d2f1502153ea42e69800cfc524b13" title="Calculate the term-independent weight component for a document.">get_sumextra()</a> can return for any document.  <a href="#a88cd221cc21b533cd9ef9bdb58905e4c"></a><br/></td></tr>
<tr class="inherit_header pub_methods_classXapian_1_1Weight"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classXapian_1_1Weight')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="classXapian_1_1Weight.html">Xapian::Weight</a></td></tr>
<tr class="memitem:a48e8f4d351f2a090bcec111513833e0f inherit pub_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a48e8f4d351f2a090bcec111513833e0f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#a48e8f4d351f2a090bcec111513833e0f">Weight</a> ()</td></tr>
<tr class="memdesc:a48e8f4d351f2a090bcec111513833e0f inherit pub_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor, needed by subclass constructors. <br/></td></tr>
<tr class="memitem:adcc0dd3e0c762597e89720043440a0bd inherit pub_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#adcc0dd3e0c762597e89720043440a0bd">~Weight</a> ()</td></tr>
<tr class="memdesc:adcc0dd3e0c762597e89720043440a0bd inherit pub_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor, because we have virtual methods.  <a href="#adcc0dd3e0c762597e89720043440a0bd"></a><br/></td></tr>
<tr class="memitem:a5663bb152f93f08dcc07e0b4a39ddbc3 inherit pub_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classXapian_1_1Weight.html">Weight</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#a5663bb152f93f08dcc07e0b4a39ddbc3">clone</a> () const =0</td></tr>
<tr class="memdesc:a5663bb152f93f08dcc07e0b4a39ddbc3 inherit pub_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clone this object.  <a href="#a5663bb152f93f08dcc07e0b4a39ddbc3"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classXapian_1_1Weight"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classXapian_1_1Weight')"><img src="closed.png" alt="-"/>&nbsp;Public Types inherited from <a class="el" href="classXapian_1_1Weight.html">Xapian::Weight</a></td></tr>
<tr class="memitem:a3181bb7619bd560a3a2c21ece3213ce0 inherit pub_types_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#a3181bb7619bd560a3a2c21ece3213ce0">type_smoothing</a> </td></tr>
<tr class="memdesc:a3181bb7619bd560a3a2c21ece3213ce0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of smoothing to use with the Language Model Weighting scheme.  <a href="classXapian_1_1Weight.html#a3181bb7619bd560a3a2c21ece3213ce0">More...</a><br/></td></tr>
<tr class="inherit_header pro_types_classXapian_1_1Weight"><td colspan="2" onclick="javascript:toggleInherit('pro_types_classXapian_1_1Weight')"><img src="closed.png" alt="-"/>&nbsp;Protected Types inherited from <a class="el" href="classXapian_1_1Weight.html">Xapian::Weight</a></td></tr>
<tr class="memitem:ae3c11f1d2d96a18e0eb9b9b31c5c5479 inherit pro_types_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479">stat_flags</a> { <br/>
&#160;&#160;<a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479abce4fe48f6f680644bd352acc937856e">COLLECTION_SIZE</a> =  1, 
<a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479a632727fa617eec2dfa9ad19e6adcb926">RSET_SIZE</a> =  2, 
<a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479a5ce8ff7822abec06e0f5ac956d7b247e">AVERAGE_LENGTH</a> =  4, 
<a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479ab2b087be2c0ffd8a2ea214298156f99b">TERMFREQ</a> =  8, 
<br/>
&#160;&#160;<a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479afd0979b74a0cf07991edc4af31ed55be">RELTERMFREQ</a> =  16, 
<a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479a1a95530f6aa2ca909e4c1620aed8192b">QUERY_LENGTH</a> =  32, 
<a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479ab383711f122cf1927e418dc94e8ed1a7">WQF</a> =  64, 
<a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479afe84a106f8ec14c79acdfc29d9378aa2">WDF</a> =  128, 
<br/>
&#160;&#160;<a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479a92ac55fbe32f39c3b4cdcab135ac0722">DOC_LENGTH</a> =  256, 
<a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479ac9f88f7ca707347bcce2c1ad0abdf531">DOC_LENGTH_MIN</a> =  512, 
<a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479a8f07b317ab1fca84d17cab78aa412e37">DOC_LENGTH_MAX</a> =  1024, 
<a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479abe608cc5dc83deef0f35c13a69aa15dc">WDF_MAX</a> =  2048, 
<br/>
&#160;&#160;<a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479ad923b48160007ce82f9db96f4f44c700">COLLECTION_FREQ</a> =  4096, 
<a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479a429d945066f46ee1449e1be35f897bf2">UNIQUE_TERMS</a> =  8192
<br/>
 }</td></tr>
<tr class="memdesc:ae3c11f1d2d96a18e0eb9b9b31c5c5479"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stats which the weighting scheme can use (see <em><a class="el" href="classXapian_1_1Weight.html#a77b1424d5f5a5b2d4848175979da6475" title="Tell Xapian that your subclass will want a particular statistic.">need_stat()</a></em>).  <a href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479">More...</a><br/></td></tr>
<tr class="inherit_header pro_methods_classXapian_1_1Weight"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classXapian_1_1Weight')"><img src="closed.png" alt="-"/>&nbsp;Protected Member Functions inherited from <a class="el" href="classXapian_1_1Weight.html">Xapian::Weight</a></td></tr>
<tr class="memitem:a77b1424d5f5a5b2d4848175979da6475 inherit pro_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#a77b1424d5f5a5b2d4848175979da6475">need_stat</a> (<a class="el" href="classXapian_1_1Weight.html#ae3c11f1d2d96a18e0eb9b9b31c5c5479">stat_flags</a> flag)</td></tr>
<tr class="memdesc:a77b1424d5f5a5b2d4848175979da6475 inherit pro_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> that your subclass will want a particular statistic.  <a href="#a77b1424d5f5a5b2d4848175979da6475"></a><br/></td></tr>
<tr class="memitem:a71cd77c24183e837313ec13d967ddf2c inherit pro_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#a71cd77c24183e837313ec13d967ddf2c">init</a> (double factor)=0</td></tr>
<tr class="memdesc:a71cd77c24183e837313ec13d967ddf2c inherit pro_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allow the subclass to perform any initialisation it needs to.  <a href="#a71cd77c24183e837313ec13d967ddf2c"></a><br/></td></tr>
<tr class="memitem:aa7acc105949dcb3b8b343a598dd01487 inherit pro_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#aa7acc105949dcb3b8b343a598dd01487">Weight</a> (const <a class="el" href="classXapian_1_1Weight.html">Weight</a> &amp;)</td></tr>
<tr class="memdesc:aa7acc105949dcb3b8b343a598dd01487 inherit pro_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">Don't allow copying.  <a href="#aa7acc105949dcb3b8b343a598dd01487"></a><br/></td></tr>
<tr class="memitem:aa2e23f50f21b1bc185f90b1e9cb7a7f3 inherit pro_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa2e23f50f21b1bc185f90b1e9cb7a7f3"></a>
<a class="el" href="namespaceXapian.html#a9bbd62a8e56ea4619e4e59afb32aced6">Xapian::doccount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#aa2e23f50f21b1bc185f90b1e9cb7a7f3">get_collection_size</a> () const </td></tr>
<tr class="memdesc:aa2e23f50f21b1bc185f90b1e9cb7a7f3 inherit pro_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of documents in the collection. <br/></td></tr>
<tr class="memitem:a8a8cce67a8493930d450b7146ef7579d inherit pro_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a8cce67a8493930d450b7146ef7579d"></a>
<a class="el" href="namespaceXapian.html#a9bbd62a8e56ea4619e4e59afb32aced6">Xapian::doccount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#a8a8cce67a8493930d450b7146ef7579d">get_rset_size</a> () const </td></tr>
<tr class="memdesc:a8a8cce67a8493930d450b7146ef7579d inherit pro_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of documents marked as relevant. <br/></td></tr>
<tr class="memitem:a918940bab1dc710ecb97da04f5fa6385 inherit pro_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a918940bab1dc710ecb97da04f5fa6385"></a>
<a class="el" href="namespaceXapian.html#a63b13d3a36fcab9975658e32643d86b5">Xapian::doclength</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#a918940bab1dc710ecb97da04f5fa6385">get_average_length</a> () const </td></tr>
<tr class="memdesc:a918940bab1dc710ecb97da04f5fa6385 inherit pro_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">The average length of a document in the collection. <br/></td></tr>
<tr class="memitem:a92938b9a4e06cc4064d175678cbf89db inherit pro_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92938b9a4e06cc4064d175678cbf89db"></a>
<a class="el" href="namespaceXapian.html#a9bbd62a8e56ea4619e4e59afb32aced6">Xapian::doccount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#a92938b9a4e06cc4064d175678cbf89db">get_termfreq</a> () const </td></tr>
<tr class="memdesc:a92938b9a4e06cc4064d175678cbf89db inherit pro_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of documents which this term indexes. <br/></td></tr>
<tr class="memitem:a1e6c2200a16fe2ed1631e498b0938de8 inherit pro_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e6c2200a16fe2ed1631e498b0938de8"></a>
<a class="el" href="namespaceXapian.html#a9bbd62a8e56ea4619e4e59afb32aced6">Xapian::doccount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#a1e6c2200a16fe2ed1631e498b0938de8">get_reltermfreq</a> () const </td></tr>
<tr class="memdesc:a1e6c2200a16fe2ed1631e498b0938de8 inherit pro_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of relevant documents which this term indexes. <br/></td></tr>
<tr class="memitem:a346c098a7aa0e4834a2d0289f2095bec inherit pro_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a346c098a7aa0e4834a2d0289f2095bec"></a>
<a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#a346c098a7aa0e4834a2d0289f2095bec">get_query_length</a> () const </td></tr>
<tr class="memdesc:a346c098a7aa0e4834a2d0289f2095bec inherit pro_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">The length of the query. <br/></td></tr>
<tr class="memitem:a764637daf40de00c390c2248fb0d9669 inherit pro_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a764637daf40de00c390c2248fb0d9669"></a>
<a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#a764637daf40de00c390c2248fb0d9669">get_wqf</a> () const </td></tr>
<tr class="memdesc:a764637daf40de00c390c2248fb0d9669 inherit pro_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">The within-query-frequency of this term. <br/></td></tr>
<tr class="memitem:a6fdebced528afecf5709eb94aae8a03b inherit pro_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#a6fdebced528afecf5709eb94aae8a03b">get_doclength_upper_bound</a> () const </td></tr>
<tr class="memdesc:a6fdebced528afecf5709eb94aae8a03b inherit pro_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">An upper bound on the maximum length of any document in the database.  <a href="#a6fdebced528afecf5709eb94aae8a03b"></a><br/></td></tr>
<tr class="memitem:ae7174b4c8b66f72f8d7a8086ca4fb476 inherit pro_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#ae7174b4c8b66f72f8d7a8086ca4fb476">get_doclength_lower_bound</a> () const </td></tr>
<tr class="memdesc:ae7174b4c8b66f72f8d7a8086ca4fb476 inherit pro_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">A lower bound on the minimum length of any document in the database.  <a href="#ae7174b4c8b66f72f8d7a8086ca4fb476"></a><br/></td></tr>
<tr class="memitem:aed86f1d362deac4a1492480ca28c788f inherit pro_methods_classXapian_1_1Weight"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXapian_1_1Weight.html#aed86f1d362deac4a1492480ca28c788f">get_wdf_upper_bound</a> () const </td></tr>
<tr class="memdesc:aed86f1d362deac4a1492480ca28c788f inherit pro_methods_classXapian_1_1Weight"><td class="mdescLeft">&#160;</td><td class="mdescRight">An upper bound on the wdf of this term.  <a href="#aed86f1d362deac4a1492480ca28c788f"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class implements the DLH weighting scheme, which is a representative scheme of the Divergence from Randomness Framework by Gianni Amati. </p>
<p>This is a parameter free weighting scheme and it should be used with query expansion to obtain better results. It uses the HyperGeometric Probabilistic model and Laplace's normalization to calculate the risk gain.</p>
<p>For more information about the DFR Framework and the DLH scheme, please refer to : a.) Gianni Amati and Cornelis Joost Van Rijsbergen Probabilistic models of information retrieval based on measuring the divergence from randomness ACM Transactions on Information Systems (TOIS) 20, (4), 2002, pp. 357-389. b.) FUB, IASI-CNR and University of Tor Vergata at TREC 2007 Blog Track. G. Amati and E. Ambrosi and M. Bianchi and C. Gaibisso and G. Gambosi. Proceedings of the 16th Text REtrieval Conference (TREC-2007), 2008. </p>
</div><h2>Member Function Documentation</h2>
<a class="anchor" id="a88cd221cc21b533cd9ef9bdb58905e4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Xapian::DLHWeight::get_maxextra </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return an upper bound on what <a class="el" href="classXapian_1_1DLHWeight.html#add7d2f1502153ea42e69800cfc524b13" title="Calculate the term-independent weight component for a document.">get_sumextra()</a> can return for any document. </p>
<p>This information is used by the matcher to perform various optimisations, so strive to make the bound as tight as possible. </p>

<p>Implements <a class="el" href="classXapian_1_1Weight.html#a019d010275b6e8130a4c5c746fdf32a1">Xapian::Weight</a>.</p>

</div>
</div>
<a class="anchor" id="a1a205dab23898a1d9b9f7cd3602b3801"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Xapian::DLHWeight::get_maxpart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return an upper bound on what <a class="el" href="classXapian_1_1DLHWeight.html#a713b6a341d350eded110f52a61a7917e" title="Calculate the weight contribution for this object&#39;s term to a document.">get_sumpart()</a> can return for any document. </p>
<p>This information is used by the matcher to perform various optimisations, so strive to make the bound as tight as possible. </p>

<p>Implements <a class="el" href="classXapian_1_1Weight.html#a791cd50a4ab7f2c4f1d9786433033d79">Xapian::Weight</a>.</p>

</div>
</div>
<a class="anchor" id="add7d2f1502153ea42e69800cfc524b13"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Xapian::DLHWeight::get_sumextra </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td>
          <td class="paramname"><em>doclen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td>
          <td class="paramname"><em>uniqterms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the term-independent weight component for a document. </p>
<p>The parameter gives information about the document which may be used in the calculations:</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">doclen</td><td>The document's length (unnormalised). </td></tr>
    <tr><td class="paramname">uniqterms</td><td>The number of unique terms in the document. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classXapian_1_1Weight.html#a77d87bf5be452399b7c9f72f3b41e5c0">Xapian::Weight</a>.</p>

</div>
</div>
<a class="anchor" id="a713b6a341d350eded110f52a61a7917e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Xapian::DLHWeight::get_sumpart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td>
          <td class="paramname"><em>wdf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td>
          <td class="paramname"><em>doclen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceXapian.html#a4464380f6fa0055b5f26b8d03ae170e2">Xapian::termcount</a>&#160;</td>
          <td class="paramname"><em>uniqterms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the weight contribution for this object's term to a document. </p>
<p>The parameters give information about the document which may be used in the calculations:</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wdf</td><td>The within document frequency of the term in the document. </td></tr>
    <tr><td class="paramname">doclen</td><td>The document's length (unnormalised). </td></tr>
    <tr><td class="paramname">uniqterms</td><td>Number of unique terms in the document (used for absolute smoothing). </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classXapian_1_1Weight.html#a6b60672542f4252fd000641a359107a1">Xapian::Weight</a>.</p>

</div>
</div>
<a class="anchor" id="a939575ef304704dc53b3d8ac244ec089"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Xapian::DLHWeight::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the name of this weighting scheme. </p>
<p>This name is used by the remote backend. It is passed along with the serialised parameters to the remote server so that it knows which class to create.</p>
<p>Return the full namespace-qualified name of your class here - if your class is called FooWeight, return "FooWeight" from this method (<a class="el" href="classXapian_1_1BM25Weight.html" title="Xapian::Weight subclass implementing the BM25 probabilistic formula.">Xapian::BM25Weight</a> returns "Xapian::BM25Weight" here).</p>
<p>If you don't want to support the remote backend, you can use the default implementation which simply returns an empty string. </p>

<p>Reimplemented from <a class="el" href="classXapian_1_1Weight.html#aafd3b445fb1955aae3d7c32aae3ba7b4">Xapian::Weight</a>.</p>

</div>
</div>
<a class="anchor" id="a98f8755b166af6cf955ff16ae1a8d350"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Xapian::DLHWeight::serialise </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return this object's parameters serialised as a single string. </p>
<p>If you don't want to support the remote backend, you can use the default implementation which simply throws <a class="el" href="classXapian_1_1UnimplementedError.html" title="UnimplementedError indicates an attempt to use an unimplemented feature.">Xapian::UnimplementedError</a>. </p>

<p>Reimplemented from <a class="el" href="classXapian_1_1Weight.html#acf568da52a87e6a6786400dbd0a79edf">Xapian::Weight</a>.</p>

</div>
</div>
<a class="anchor" id="afbbaf8f86cdeaf95bcf6a92aab371d42"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXapian_1_1DLHWeight.html">DLHWeight</a>* Xapian::DLHWeight::unserialise </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>serialised</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unserialise parameters. </p>
<p>This method unserialises parameters serialised by the <em><a class="el" href="classXapian_1_1DLHWeight.html#a98f8755b166af6cf955ff16ae1a8d350" title="Return this object&#39;s parameters serialised as a single string.">serialise()</a></em> method and allocates and returns a new object initialised with them.</p>
<p>If you don't want to support the remote backend, you can use the default implementation which simply throws <a class="el" href="classXapian_1_1UnimplementedError.html" title="UnimplementedError indicates an attempt to use an unimplemented feature.">Xapian::UnimplementedError</a>.</p>
<p>Note that the returned object will be deallocated by <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> after use with "delete". If you want to handle the deletion in a special way (for example when wrapping the <a class="el" href="namespaceXapian.html" title="The Xapian namespace contains public interfaces for the Xapian library.">Xapian</a> API for use from another language) then you can define a static <code>operator delete</code> method in your subclass as shown here: <a href="https://trac.xapian.org/ticket/554#comment:1">https://trac.xapian.org/ticket/554#comment:1</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">serialised</td><td>A string containing the serialised parameters. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classXapian_1_1Weight.html#abb97c5dd2b541b30960e8f21a3e0126f">Xapian::Weight</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>xapian/<a class="el" href="weight_8h.html">weight.h</a></li>
</ul>
</div><!-- contents -->
<hr>
<address><small>
Documentation for Xapian (version 1.4.0).<br>
Generated on Sat Jun 25 2016 by
<a href="http://www.doxygen.org/">Doxygen 1.8.1.2</a>.
</small></address>
</body>
</html>
